# RMS V2 개념이해

소유자: Julian Yoon

# RMS(Revenue Management System) 종합 가이드

> 이 문서를 읽으면 RMS의 전체적인 흐름과 핵심 개념을 이해할 수 있습니다.
> 

---

## 목차

1. [시스템 개요](about:blank#1-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B0%9C%EC%9A%94)
2. [핵심 도메인 개념](about:blank#2-%ED%95%B5%EC%8B%AC-%EB%8F%84%EB%A9%94%EC%9D%B8-%EA%B0%9C%EB%85%90)
3. [엔티티 상세 설명](about:blank#3-%EC%97%94%ED%8B%B0%ED%8B%B0-%EC%83%81%EC%84%B8-%EC%84%A4%EB%AA%85)
4. [비즈니스 흐름 (End-to-End)](about:blank#4-%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%ED%9D%90%EB%A6%84-end-to-end)
5. [상태 관리와 워크플로우](about:blank#5-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC%EC%99%80-%EC%9B%8C%ED%81%AC%ED%94%8C%EB%A1%9C%EC%9A%B0)
6. [승인 시스템](about:blank#6-%EC%8A%B9%EC%9D%B8-%EC%8B%9C%EC%8A%A4%ED%85%9C)
7. [외부 주문 처리 시스템](about:blank#7-%EC%99%B8%EB%B6%80-%EC%A3%BC%EB%AC%B8-%EC%B2%98%EB%A6%AC-%EC%8B%9C%EC%8A%A4%ED%85%9C)
8. [용어 사전](about:blank#8-%EC%9A%A9%EC%96%B4-%EC%82%AC%EC%A0%84)
9. [FAQ](about:blank#9-faq)

---

## 1. 시스템 개요

### 1.1 RMS란?

**RMS = Revenue Management System = 매출 관리 시스템**

쉽게 말해 **“B2B 거래에서 물건을 팔고 배송하는 전체 과정을 관리하는 시스템”** 입니다.

B2B(Business to Business)는 일반 소비자가 아닌 **기업 간 거래**를 의미합니다.

### RMS 버전 히스토리

```
v1 시절: RMS = Release Management System (출고관리시스템)
         → 출고 요청이 메인 기능이었음

v2 현재: RMS = Revenue Management System (매출관리시스템)
         → 출고뿐만 아니라 매출 전체를 관리하도록 확장됨
```

v1에서 v2로 전환되면서 용어도 변경되었습니다:
- v1 “견적” → v2 “공급계약” (Contract)
- v1 “발송” → v2 “무상출고” (Free Fulfillment)
- v1 “출고요청” → v2 “출고주문 + 릴리즈” (더 세분화됨)

계약 관리, 주문 관리, 정산까지 포함하게 되면서 시스템이 전면 개편되었습니다.

### 1.2 왜 필요할까요?

일반 소비자 대상 거래(B2C)와 기업 대상 거래(B2B)는 완전히 다른 특성을 가지고 있습니다.

| 구분 | 일반 소비자 (B2C) | 기업 (B2B) |
| --- | --- | --- |
| 가격 | 정가로 고정 | 거래처마다 협상 가격이 다름 |
| 주문 | 쇼핑몰에서 클릭 한 번 | 엑셀로 보내거나 전화로 주문 |
| 배송 | 택배 한 박스 | 트럭 단위 대량 배송 |
| 결제 | 즉시 결제 | 월말 일괄 정산 |
| 승인 | 필요 없음 | 계약 승인, 출고 승인 등 결재 필요 |

이러한 복잡한 B2B 거래를 체계적으로 관리하기 위해 RMS가 필요합니다.

### 1.3 RMS가 관리하는 영역

```
┌─────────────────────────────────────────────────────────────────┐
│                      RMS가 하는 일들                             │
├─────────────────────────────────────────────────────────────────┤
│  📦 상품 정보     │  무엇을 파는지, 얼마에 파는지                 │
│  📋 계약 관리     │  거래처별 가격 계약                          │
│  🛒 주문 관리     │  거래처 주문 접수 및 처리                    │
│  🚚 출고 관리     │  창고에서 물건 출고                          │
│  ✅ 승인 관리     │  계약/출고 승인 프로세스                     │
└─────────────────────────────────────────────────────────────────┘
```

---

## 2. 핵심 도메인 개념

### 2.1 핵심 엔티티 4가지

RMS의 핵심은 **4개의 엔티티**가 순서대로 연결되는 구조입니다:

```
┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐
│ 주문상품  │ → │ 공급계약  │ →  │ 판매주문  │ →  │ 출고주문  │
│          │    │          │    │          │    │          │
│ (메뉴판)  │    │ (계약서) │    │ (주문서) │    │ (배달지시)│
└──────────┘    └──────────┘    └──────────┘    └──────────┘
```

### 2.2 화장품 회사 비유로 이해하기

**상황**: 여러분이 화장품 브랜드를 운영하고, 대형 유통사에 제품을 납품하는 상황이라고 가정해봅시다.

| RMS 개념 | 화장품 회사 비유 | 설명 |
| --- | --- | --- |
| **주문상품** | 제품 카탈로그 | “수분크림 45,000원, 에센스 38,000원” 같은 상품 정보 |
| **공급계약** | 납품 계약서 | “A마트에 수분크림 31,500원에 납품” 계약 |
| **판매주문** | 발주서 | “이번 주 수분크림 500개 보내주세요” 실제 주문 |
| **출고주문** | 출고 지시 | “수분크림 500개 화요일까지 A마트 물류센터로 배송” 지시 |

### 2.3 왜 이렇게 세분화되어 있을까요?

“그냥 주문받고 보내면 되는 거 아닌가요?” 라고 생각하실 수 있지만, B2B는 그렇게 단순하지 않습니다.

1. **같은 상품도 거래처마다 가격이 다릅니다**
    - A마트: 대량 구매 → 31,500원
    - B드럭스토어: 소량이지만 장기 거래 → 36,000원
    - C백화점: 신규 거래처 → 정가 45,000원
2. **한 번에 배송하지 못하는 경우도 있습니다**
    - 주문: 수분크림 1,000개
    - 오늘 재고: 300개
    - 300개 오늘 출고, 700개 내일 출고
    - → 판매주문 1개, 출고주문 2개
3. **무상으로 보내는 경우도 있습니다**
    - 샘플 제공
    - 기부
    - 인플루언서 무가 시딩
    - → 판매주문 없이 출고주문만 생성

### 2.4 엔티티 관계도

```
                              ┌─────────────┐
                              │   거래처     │
                              │  (파트너)    │
                              └──────┬──────┘
                                     │
                                     │ 거래처 하나가
                                     │ 여러 개 가질 수 있음
              ┌──────────────────────┼──────────────────────┐
              │                      │                      │
              ▼                      ▼                      ▼
       ┌─────────────┐        ┌─────────────┐        ┌─────────────┐
       │  공급계약    │       │  판매주문    │        │  출고주문    │
       │ (가격 협상)  │◀──────│ (실제 주문) │──────▶│ (배송 지시)  │
       └──────┬──────┘        └──────┬──────┘        └──────┬──────┘
              │                      │                      │
              │                      │                      │
              ▼                      ▼                      ▼
       ┌─────────────┐        ┌─────────────┐        ┌─────────────┐
       │  계약 품목   │        │  주문 라인   │       │  출고 라인   │
       │ (품목별 가격)│        │ (품목별 수량)│       │ (품목별 수량)│
       └──────┬──────┘        └──────┬──────┘        └──────┬──────┘
              │                      │                      │
              │                      ▼                      │
              │               ┌─────────────┐               │
              │               │    매핑     │               │
              │               │ (SKU 변환)  │               │
              │               └──────┬──────┘               │
              │                      │                      │
              └──────────────────────┼──────────────────────┘
                                     │
                                     ▼
                              ┌─────────────┐
                              │  주문상품    │
                              │  (메뉴판)    │
                              └──────┬──────┘
                                     │
                                     ▼
                              ┌─────────────┐
                              │    SKU      │
                              │ (창고 물건)  │
                              └─────────────┘
```

---

## 3. 엔티티 상세 설명

### 3.1 주문상품 (Order Product)

### 한 줄 요약

> “거래처에게 판매할 상품 정보” - 상품명과 가격을 정의한 것
> 

### 왜 필요할까요?

창고에 있는 물건 = **SKU** (Stock Keeping Unit)
거래처에게 판매하는 상품 = **주문상품**

이 둘은 다릅니다.

예를 들어:
- SKU: `COS-001` (수분크림 50ml 1개) ← 창고 관리용 코드
- 주문상품: `프리미엄 수분크림` ← 거래처가 보는 상품명

또한 같은 상품도 거래처마다 가격이 다를 수 있어서 가격 정책도 함께 관리해야 합니다.

### 주문상품 구조

```
┌─────────────────────────────────────────────────────────────┐
│                      주문상품 (Order Product)                │
├─────────────────────────────────────────────────────────────┤
│  기본 정보                                                   │
│  ├─ 이름: "프리미엄 수분크림"                                │
│  ├─ 코드: "ORP-COS-001"                                     │
│  └─ 타입: 단일 / 그룹 (세트 상품)                           │
├─────────────────────────────────────────────────────────────┤
│  SKU 연결                                                    │
│  ├─ 단일: SKU 1개 = 수분크림 1개                            │
│  └─ 그룹: SKU 여러 개 = 크림 + 에센스 + 토너 세트           │
├─────────────────────────────────────────────────────────────┤
│  가격 정책 (핵심!)                                           │
│  ├─ 채널: 판매 채널 (쿠팡, 네이버, 직접거래 등)             │
│  ├─ 기간: 가격 적용 기간                                    │
│  └─ 가격들:                                                  │
│      ├─ MSRP (권장소비자가): 45,000원 ← 정가               │
│      ├─ 도매가: 27,000원 ← 도매상 가격                     │
│      └─ 거래가격: 36,000원 ← 실제 기준가                   │
└─────────────────────────────────────────────────────────────┘
```

### SKU 타입 - 단일 vs 그룹

**단일 (SINGLE)** - 단일 상품

```
주문상품: "프리미엄 수분크림"
    └─ SKU: COS-001 × 1개
```

**그룹 (GROUP)** - 세트 상품

```
주문상품: "스킨케어 기초 세트"
    ├─ SKU: COS-001 (수분크림) × 1개
    ├─ SKU: COS-002 (에센스) × 1개
    └─ SKU: COS-003 (토너) × 1개
```

그룹은 세트 상품을 구성할 때 사용합니다. 이 개념을 모르면 나중에 매핑 과정에서 혼란이 올 수 있으니 꼭 기억해두세요.

### 3.2 공급계약 (Supply Contract)

### 한 줄 요약

> “거래처와 협의한 가격 계약서”
> 

### 왜 필요할까요?

B2B 거래는 거래처마다 가격이 다릅니다.

- A마트: 대량 구매 → 30% 할인
- B편의점: 장기 계약 → 20% 할인
- C백화점: 브랜드 이미지 유지 → 정가 판매

이런 거래처별 가격 정보를 관리하는 것이 **공급계약**입니다.

### 공급계약 구조

```
┌─────────────────────────────────────────────────────────────┐
│                     공급계약 (Supply Contract)               │
├─────────────────────────────────────────────────────────────┤
│  기본 정보                                                   │
│  ├─ 계약명: "2024년 A마트 공급계약"                          │
│  ├─ 거래처: A마트                                           │
│  └─ 계약 기간: 2024.01.01 ~ 2024.12.31                     │
├─────────────────────────────────────────────────────────────┤
│  계약 품목 (핵심!)                                           │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ 품목 1                                                  ││
│  │ ├─ 주문상품: "프리미엄 수분크림"                         ││
│  │ ├─ 기준가(정가): 45,000원                               ││
│  │ └─ 계약가(딜가): 31,500원 ← 30% 할인                    ││
│  └─────────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────────┘
```

### 공급률 - 중요 개념

**공급률 = 계약가 ÷ 기준가 × 100**

```
예시:
- 기준가: 45,000원
- 계약가: 31,500원
- 공급률: 31,500 ÷ 45,000 × 100 = 70%

→ "정가의 70%에 공급한다" = 30% 할인
```

공급률이 낮으면 회사 수익이 줄어들기 때문에 **승인이 필요**합니다.

영업팀에서 공급률이 지나치게 낮은 계약을 체결하면 회사에 손실이 발생할 수 있으므로, 일정 기준 이하의 공급률은 상위 결재자의 승인을 받아야 합니다.

### 공급계약 상태 변화

```
DRAFT (작성중)
    │
    │ 승인 요청
    ▼
REVIEW (검토중) ─────────────┐
    │                       │
    │ 승인                   │ 반려
    ▼                       ▼
APPROVED (승인됨)          DRAFT로 돌아감
    │                     (수정 후 재신청)
    │ 계약 만료/해지
    ▼
INVALID (무효)
```

### 3.3 판매주문 (Sales Order)

### 한 줄 요약

> “거래처가 실제로 주문한 내역” - 무엇을 몇 개 어디로 보내달라는 요청
> 

### 왜 필요할까요?

공급계약 = “앞으로 이 가격에 거래하자” (약속)
판매주문 = “오늘 이거 보내주세요” (실제 주문)

둘은 다릅니다. 계약을 맺었다고 해서 바로 주문이 들어오는 것은 아닙니다.

### 판매주문 구조

```
┌─────────────────────────────────────────────────────────────┐
│                      판매주문 (Sales Order)                  │
├─────────────────────────────────────────────────────────────┤
│  헤더 정보                                                   │
│  ├─ 주문번호: SO-2024-001234                                │
│  ├─ 거래처: A마트                                           │
│  ├─ 공급계약: 2024년 A마트 공급계약                          │
│  └─ 배송지: 서울시 강남구 A마트 물류센터                     │
├─────────────────────────────────────────────────────────────┤
│  주문 라인 (주문한 품목들)                                   │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ 라인 1: 프리미엄 수분크림 × 100개 × 31,500원            ││
│  │ 라인 2: 에센스 × 50개 × 26,600원                        ││
│  └─────────────────────────────────────────────────────────┘│
├─────────────────────────────────────────────────────────────┤
│  매핑 (SKU 변환) ← 이 작업을 해야 출고 가능!                 │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ 라인 1 → SKU: COS-001 × 100개                          ││
│  │ 라인 2 → SKU: COS-002 × 50개                           ││
│  └─────────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────────┘
```

### 매핑이란?

거래처는 “프리미엄 수분크림 100개”라고 주문합니다.
하지만 창고에서는 “COS-001 100개”라고 해야 처리할 수 있습니다.

이 변환 과정이 **매핑**입니다.

```
주문: "프리미엄 수분크림 100개"
         │
         │ 매핑
         ▼
출고: "SKU COS-001 × 100개"
```

세트 상품의 경우 더 복잡해집니다:

```
주문: "스킨케어 기초 세트 10개"
         │
         │ 매핑 (세트 분해)
         ▼
출고: SKU COS-001 × 10개 (수분크림 1개씩)
      SKU COS-002 × 10개 (에센스 1개씩)
      SKU COS-003 × 10개 (토너 1개씩)
```

### 판매주문 상태 변화

```
DRAFT (작성중)
    │
    │ 주문 확정
    ▼
CONFIRMED (확정)
    │
    │ 출고 시작
    ▼
FULFILLING (출고중)
    │
    │ 전체 출고 완료
    ▼
COMPLETED (완료)

※ 중간에 취소 시 → CANCELLED
```

### 3.4 출고주문 (Fulfillment Order)

### 한 줄 요약

> “창고에 물건을 보내라는 지시” - 실제로 물건을 출고하는 명령
> 

### 판매주문과의 차이점

판매주문 1개 ≠ 출고주문 1개입니다.

**케이스 1: 분할 배송**

```
판매주문: 수분크림 1,000개 주문
    ├─ 출고주문 1: 300개 (오늘 재고분)
    ├─ 출고주문 2: 300개 (내일)
    └─ 출고주문 3: 400개 (모레)
```

**케이스 2: 합배송**

```
판매주문 A: 수분크림 100개
판매주문 B: 에센스 50개
    └─ 출고주문: 수분크림 100개 + 에센스 50개 (같이 배송)
```

**케이스 3: 무상출고**

```
출고주문: 샘플 수분크림 10개 (인플루언서 협찬)
    └─ 판매주문 없음 (대금을 받지 않으므로)
```

### 출고 유형

```
출고주문
├─ 판매출고 (SALES) ← 대금을 받는 출고
│   └─ 판매주문과 연결됨
│
└─ 무상출고 (FREE) ← 무상으로 제공하는 출고
    ├─ 인플루언서 샘플 ← 마케팅용
    ├─ 영업 샘플 ← 신규 거래처 영업용
    ├─ 본사 샘플 ← 본사 요청 ⚠️ 승인 필요
    ├─ 인증용 ← 식약처 등 제출용
    └─ 기부 ← 사회공헌
```

### 릴리즈 (Release)란?

**릴리즈 = 실제로 물건이 나가는 개별 배송 건**

```
출고주문: COS-001 100개
    │
    ├─ 릴리즈 1: 50개 (3/15 오전 출발) → 송장번호: 1234567890
    └─ 릴리즈 2: 50개 (3/16 오전 출발) → 송장번호: 1234567891
```

릴리즈를 나누는 이유:
- 재고 부족
- 차량 적재 한계
- 거래처 요청 (분할 수령)

### 출고주문 상태 변화

```
DRAFT (작성중)
    │
    │ 출고 요청
    ▼
REQUESTED (요청됨)
    │
    │ 릴리즈 생성 (실제 배송 시작)
    ▼
PROCESSING (처리중)
    │
    │ 전체 출고 완료
    ▼
RELEASED (출고완료)

※ 취소 시 → CANCELLED
```

---

## 4. 비즈니스 흐름 (End-to-End)

### 4.1 일반 B2B 판매 흐름

전체 프로세스를 처음부터 끝까지 따라가 보겠습니다.

### 시나리오: A마트에 화장품 납품하기

```
═══════════════════════════════════════════════════════════════
                    A마트 화장품 납품 프로세스
═══════════════════════════════════════════════════════════════

[STEP 1] 상품 등록 (상품팀)
─────────────────────────────────────────────────────────────
판매할 상품 정보를 등록합니다.

주문상품 생성:
┌──────────────────────────────────────────────────────────┐
│ 이름: "프리미엄 수분크림"                                 │
│ SKU: COS-001                                             │
│ 가격: MSRP 45,000원, 거래가격 36,000원                   │
└──────────────────────────────────────────────────────────┘

                              │
                              ▼

[STEP 2] 거래처 등록 (영업팀)
─────────────────────────────────────────────────────────────
A마트를 거래처로 등록합니다.

파트너 생성:
┌──────────────────────────────────────────────────────────┐
│ 이름: A마트                                               │
│ 사업자번호: 123-45-67890                                  │
│ 담당자: 김구매 부장                                       │
└──────────────────────────────────────────────────────────┘

                              │
                              ▼

[STEP 3] 계약 체결 (영업팀)
─────────────────────────────────────────────────────────────
가격 협상 후 계약을 작성합니다.

영업: "대량 구매 시 27,000원에 공급해 드리겠습니다."
A마트: "좋습니다, 계약하죠."

공급계약 생성 (상태: DRAFT):
┌──────────────────────────────────────────────────────────┐
│ 계약명: "2024년 A마트 공급계약"                           │
│ 거래처: A마트                                             │
│ 품목: 프리미엄 수분크림                                   │
│   - 거래가격: 36,000원                                   │
│   - 계약가: 27,000원 (25% 할인)                          │
│   - 공급률: 75% ← 80% 미만이므로 승인 필요               │
└──────────────────────────────────────────────────────────┘

                              │
                              ▼

[STEP 4] 계약 승인 (팀장/임원)
─────────────────────────────────────────────────────────────
공급률이 기준(80%) 미만이므로 승인이 필요합니다.

영업팀: "팀장님, 이 계약 승인 부탁드립니다."
팀장: (공급률 76.9% 확인) "A마트는 대형 거래처이니 승인합니다."

→ 상태: DRAFT → REVIEW → APPROVED

                              │
                              ▼

[STEP 5] 주문 접수 (영업팀)
─────────────────────────────────────────────────────────────
드디어 주문이 들어왔습니다!

A마트: "3월 15일까지 후라이드 1,000마리 납품해 주세요."

판매주문 생성:
┌──────────────────────────────────────────────────────────┐
│ 주문번호: SO-2024-001234                                  │
│ 거래처: A마트                                             │
│ 공급계약: 2024년 A마트 공급계약                          │
│ 주문: 프리미엄 후라이드 × 1,000개 × 10,000원             │
│      = 총 10,000,000원                                    │
└──────────────────────────────────────────────────────────┘

매핑: "프리미엄 후라이드" 1,000개 → SKU: CHK-001 × 1,000개

→ 상태: DRAFT → CONFIRMED

                              │
                              ▼

[STEP 6] 출고 요청 (영업팀 or 물류팀)
─────────────────────────────────────────────────────────────
창고에 출고를 요청합니다.

출고주문 생성:
┌──────────────────────────────────────────────────────────┐
│ 출고번호: FO-2024-005678                                  │
│ 유형: 판매출고                                            │
│ 연결: SO-2024-001234                                      │
│ 출고: SKU CHK-001 × 1,000개                              │
│ 배송지: A마트 물류센터                                    │
└──────────────────────────────────────────────────────────┘

→ 상태: DRAFT → REQUESTED

                              │
                              ▼

[STEP 7] 출고 지시 (물류팀)
─────────────────────────────────────────────────────────────
릴리즈를 생성하여 WMS에 지시합니다.

릴리즈 생성:
┌──────────────────────────────────────────────────────────┐
│ 릴리즈 1: CHK-001 × 500개 (3/14 출고)                    │
│ 릴리즈 2: CHK-001 × 500개 (3/15 출고)                    │
└──────────────────────────────────────────────────────────┘

→ 출고주문 상태: REQUESTED → PROCESSING

                              │
                              ▼

[STEP 8] 출고 완료 (WMS → RMS)
─────────────────────────────────────────────────────────────
배송 완료 후 송장번호가 입력됩니다.

릴리즈 완료:
┌──────────────────────────────────────────────────────────┐
│ 릴리즈 1: 송장 1234567890 → 완료                         │
│ 릴리즈 2: 송장 1234567891 → 완료                         │
└──────────────────────────────────────────────────────────┘

→ 출고주문: PROCESSING → RELEASED
→ 판매주문: FULFILLING → COMPLETED

═══════════════════════════════════════════════════════════════
                         프로세스 완료
═══════════════════════════════════════════════════════════════
```

### 4.2 무상출고 흐름 (샘플 제공)

**상황**: 유튜버에게 치킨 협찬 보내기

```
═══════════════════════════════════════════════════════════════
               유튜버 협찬 샘플 보내기 (무상출고)
═══════════════════════════════════════════════════════════════

[STEP 1] 출고주문 생성 (마케팅팀)
─────────────────────────────────────────────────────────────
먹방 유튜버에게 샘플을 보냅니다.

┌──────────────────────────────────────────────────────────┐
│ 출고번호: FO-2024-009999                                  │
│ 유형: 무상출고 - 인플루언서 샘플                          │
│ 수령인: 김먹방 (서울시 마포구...)                         │
│ 출고: CHK-001 × 3개, CHK-002 × 2개                       │
│ 사유: "먹방 협찬"                                         │
└──────────────────────────────────────────────────────────┘

⚠️ 판매주문 없음 (대금을 받지 않으므로)
✅ 인플루언서 샘플은 승인 불필요 (마케팅 비용 처리)

[STEP 2~4] 출고요청 → 릴리즈 → 완료
─────────────────────────────────────────────────────────────
(일반 출고와 동일한 프로세스)

═══════════════════════════════════════════════════════════════
```

### 4.3 본사 샘플 (승인 필요)

```
═══════════════════════════════════════════════════════════════
                  본사 샘플 보내기 (승인 필요)
═══════════════════════════════════════════════════════════════

왜 본사 샘플만 승인이 필요할까요?

인플루언서 샘플 → 마케팅팀 예산 → 팀 자체 결정
영업 샘플 → 영업팀 예산 → 팀 자체 결정
본사 샘플 → 본사 명의 → 별도 승인 필요

[STEP 1] 출고주문 생성
─────────────────────────────────────────────────────────────
┌──────────────────────────────────────────────────────────┐
│ 유형: 무상출고 - 본사 샘플 (HQ_SAMPLE)                    │
│ 상태: DRAFT                                               │
└──────────────────────────────────────────────────────────┘

[STEP 2] 승인 요청
─────────────────────────────────────────────────────────────
"팀장님, 이 출고 승인 부탁드립니다."

[STEP 3] 승인 완료
─────────────────────────────────────────────────────────────
팀장: "승인합니다."
→ 출고 요청 가능

[STEP 4~] 일반 출고 흐름
─────────────────────────────────────────────────────────────
(이후 동일)

═══════════════════════════════════════════════════════════════
```

### 4.4 외부 주문서 업로드 (엑셀 처리)

거래처에서 엑셀로 주문서를 보내면 시스템에 입력해야 합니다.

```
═══════════════════════════════════════════════════════════════
                    엑셀 주문서 업로드
═══════════════════════════════════════════════════════════════

[사전 준비] 템플릿 설정
─────────────────────────────────────────────────────────────
거래처마다 엑셀 양식이 다릅니다.

A마트: 상품코드가 A열에
B편의점: 상품코드가 C열에
C백화점: 시트가 3개

→ 각 거래처별로 "어떤 열이 무엇인지" 템플릿을 만들어야 합니다.

┌──────────────────────────────────────────────────────────┐
│ 템플릿명: "A마트 주문서 양식 v2"                          │
│ 필드 매핑:                                                │
│   - A열 = 상품코드                                       │
│   - B열 = 수량                                           │
│   - C열 = 배송지                                         │
└──────────────────────────────────────────────────────────┘

[STEP 1] 파일 업로드
─────────────────────────────────────────────────────────────
A마트가 보낸 엑셀 파일을 업로드합니다.

- 템플릿 선택: A마트 주문서 양식 v2
- 파일: A마트_3월주문.xlsx

[STEP 2] 정규화
─────────────────────────────────────────────────────────────
엑셀 데이터를 파싱합니다.

원본: "CHICKEN-001", "백개", "서울 강남구..."
           ↓
정규화: 주문상품 ID: 123, 수량: 100, 주소: {...}

⚠️ 오류가 있으면 여기서 수정해야 합니다.
- "상품코드 XXXX를 찾을 수 없습니다"
- "수량이 숫자가 아닙니다"

[STEP 3] SKU 매핑
─────────────────────────────────────────────────────────────
주문상품 → SKU 변환

"프리미엄 후라이드" → CHK-001
"치킨 세트" → CHK-001 + CHK-002 + COLA-001

[STEP 4] 판매주문 확정
─────────────────────────────────────────────────────────────
최종 확인 후 확정 처리

→ 판매주문 생성됨 (상태: CONFIRMED)

[STEP 5] 출고주문 생성 (선택)
─────────────────────────────────────────────────────────────
바로 출고까지 진행할지 선택

☑️ 출고주문 자동 생성
☑️ 바로 출고요청

→ 출고주문도 생성됨 (상태: REQUESTED)

═══════════════════════════════════════════════════════════════
                         업로드 완료
═══════════════════════════════════════════════════════════════
```

---

## 5. 상태 관리와 워크플로우

### 5.1 상태 흐름 한눈에 보기

```
┌─────────────────────────────────────────────────────────────┐
│                    전체 상태 흐름 요약                       │
└─────────────────────────────────────────────────────────────┘

공급계약              판매주문              출고주문
────────             ────────             ────────

DRAFT               DRAFT                DRAFT
  │                   │                    │
  │ 승인요청           │ 확정               │ 출고요청
  ▼                   ▼                    ▼
REVIEW              CONFIRMED            REQUESTED
  │                   │                    │
  │ 승인               │ 출고시작            │ 릴리즈 생성
  ▼                   ▼                    ▼
APPROVED            FULFILLING           PROCESSING
  │                   │                    │
  │ 만료               │ 출고완료            │ 출고완료
  ▼                   ▼                    ▼
INVALID             COMPLETED            RELEASED

        ※ 어디서든 취소하면 → CANCELLED
```

### 5.2 상태별 가능한 작업

### 공급계약

| 상태 | 가능한 작업 | 담당자 |
| --- | --- | --- |
| DRAFT | 수정, 삭제, 승인요청 | 신청자 |
| REVIEW | 승인, 반려 | 결재자 |
| APPROVED | 무효화 | 관리자 |
| INVALID | 작업 불가 | - |

### 판매주문

| 상태 | 가능한 작업 |
| --- | --- |
| DRAFT | 수정, 삭제, 확정 |
| CONFIRMED | 출고요청 생성, 취소 |
| FULFILLING | 대기 |
| COMPLETED | 취소 (반품 처리됨) |

### 출고주문

| 상태 | 가능한 작업 |
| --- | --- |
| DRAFT | 수정, 삭제, 출고요청 |
| REQUESTED | 릴리즈 생성, 취소 |
| PROCESSING | 릴리즈 추가, 송장 입력 |
| RELEASED | 완료 |

### 5.3 상태 변경 시 연쇄 반응

**출고주문 완료 시:**

```
출고주문 (마지막 릴리즈 완료)
    │
    │ 상태: PROCESSING → RELEASED
    │
    └──→ 연결된 판매주문 확인
             │
             │ 모든 출고주문이 RELEASED?
             │
             Yes → 판매주문도 COMPLETED
```

**판매주문 취소 시:**

```
판매주문 취소
    │
    │ 상태: → CANCELLED
    │
    └──→ 연결된 출고주문들
             │
             ├─ 아직 출고 안 된 건 → CANCELLED
             └─ 이미 출고된 건 → 그대로 유지 (반품 별도 처리)
```

---

## 6. 승인 시스템

### 6.1 승인이 필요한 경우

승인이 필요한 경우는 **2가지**입니다:

| 경우 | 조건 | 이유 |
| --- | --- | --- |
| **공급계약** | 공급률이 기준보다 낮을 때 | 과도한 할인은 회사 손실 초래 |
| **본사 샘플** | 무상출고 유형이 HQ_SAMPLE일 때 | 본사 명의 사용에 대한 통제 |

### 6.2 공급계약 승인

### 승인 필요 조건

```
공급률 = 계약가 ÷ 거래가격 × 100

기준: 80% (회사 설정에 따라 다름)

예시 1:
- 거래가격: 10,000원
- 계약가: 9,000원
- 공급률: 90% → 기준(80%) 이상 → ✅ 승인 불필요

예시 2:
- 거래가격: 10,000원
- 계약가: 7,000원
- 공급률: 70% → 기준(80%) 미만 → ⚠️ 승인 필요
```

### 승인 프로세스

```
┌─────────────────────────────────────────────────────────────┐
│                    공급계약 승인 프로세스                     │
└─────────────────────────────────────────────────────────────┘

[신청자 김대리]
    │
    │ 계약 작성 (DRAFT)
    │ "A마트 공급률 70%입니다."
    │
    │ 승인 요청
    │
    ▼
[결재자 박팀장]
    │
    │ 검토 중...
    │ "A마트는 대형 거래처이므로..."
    │
    ├──────────────────────────────────────────┐
    │ 승인                                     │ 반려
    │                                          │
    ▼                                          ▼
APPROVED                                     DRAFT
(계약 활성화)                              (수정 후 재신청)
(판매주문 가능)                            (반려 사유 확인)
```

### 6.3 본사 샘플 승인

### 왜 본사 샘플만 승인이 필요할까요?

| 유형 | 승인 | 이유 |
| --- | --- | --- |
| 인플루언서 샘플 | ❌ | 마케팅팀 예산 |
| 영업 샘플 | ❌ | 영업팀 예산 |
| 인증용 | ❌ | 필수 비용 |
| 기부 | ❌ | CSR 예산 |
| **본사 샘플** | ✅ | 본사 명의 = 더 엄격한 관리 필요 |

### 승인 프로세스

```
[요청자]
    │
    │ 출고주문 작성 (HQ_SAMPLE)
    │ "본사 샘플 출고 요청드립니다."
    │
    │ 승인 요청
    │
    ▼
[결재자]
    │
    │ 검토...
    │
    ├────────────────────────┐
    │ 승인                    │ 반려
    ▼                        ▼
승인 완료                   반려
(출고요청 가능)            (수정 후 재신청)
```

### 6.4 역할별 권한

```
┌────────────┬────────────┬────────────┬────────────┐
│            │   신청자    │   결재자    │   관리자    │
├────────────┼────────────┼────────────┼────────────┤
│ 공급계약    │            │            │            │
│ ├ 작성     │     ✅     │     ❌     │     ✅     │
│ ├ 승인요청  │     ✅     │     ❌     │     ✅     │
│ ├ 승인     │     ❌     │     ✅     │     ✅     │
│ └ 반려     │     ❌     │     ✅     │     ✅     │
├────────────┼────────────┼────────────┼────────────┤
│ 본사샘플    │            │            │            │
│ ├ 작성     │     ✅     │     ✅     │     ✅     │
│ ├ 승인요청  │     ✅     │     ✅     │     ✅     │
│ ├ 승인     │     ❌     │     ✅     │     ✅     │
│ └ 반려     │     ❌     │     ✅     │     ✅     │
└────────────┴────────────┴────────────┴────────────┘

※ 중요: 본인이 신청한 건은 본인이 승인할 수 없습니다 (셀프 승인 불가)
```

---

## 7. 외부 주문 처리 시스템

### 7.1 주문서 템플릿이란?

거래처마다 엑셀 양식이 다릅니다.

```
A마트 양식:               B편의점 양식:
┌────┬────┬────┐         ┌────┬────┬────┬────┐
│코드│수량│주소 │         │NO │상품│QTY │배송지│
└────┴────┴────┘         └────┴────┴────┴────┘
```

이를 하나의 시스템에서 처리하려면 “어떤 열이 무엇인지” 알려주는 **템플릿**이 필요합니다.

### 7.2 템플릿 구조

```
┌─────────────────────────────────────────────────────────────┐
│                    주문서 템플릿                             │
├─────────────────────────────────────────────────────────────┤
│  기본 정보                                                   │
│  ├─ 이름: "A마트 주문서 v2"                                 │
│  ├─ 거래처: A마트                                           │
│  └─ 공급계약: 2024년 A마트 공급계약                         │
├─────────────────────────────────────────────────────────────┤
│  필드 매핑 (핵심!)                                           │
│                                                             │
│  [HEADER] - 주문서 전체 정보 (한 번만)                      │
│    - 주문일자: 셀 B2                                        │
│    - 배송요청일: 셀 B3                                      │
│                                                             │
│  [LINE] - 품목별 정보 (반복)                                │
│    - 시작행: 5                                              │
│    - A열: 상품코드                                          │
│    - B열: 수량                                              │
│    - C열: 배송지                                            │
│                                                             │
│  [ADJUSTMENT] - 금액 조정                                   │
│    - 할인금액: 셀 G100                                      │
│    - 배송비: 셀 G101                                        │
└─────────────────────────────────────────────────────────────┘
```

### 7.3 업로드 프로세스

```
[STEP 1: 파일 올리기]
    │
    │ - 템플릿 선택
    │ - 엑셀 파일 업로드
    │
    ▼
[STEP 2: 정규화]
    │
    │ - 엑셀 데이터 파싱
    │ - 오류 확인
    │ - 상품코드 등 오류 시 여기서 수정
    │
    ▼
[STEP 3: SKU 매핑]
    │
    │ - 주문상품 → SKU 변환
    │ - 세트 상품은 분해됨
    │
    ▼
[STEP 4: 판매주문 확정]
    │
    │ - 최종 확인
    │ - 확정 버튼 클릭
    │
    ▼
[STEP 5: 출고주문 생성 (선택)]
    │
    │ - 바로 출고까지 진행 여부 선택
    │
    ▼
    완료
```

### 7.4 주문서 업로드 실전 사용법

실제 화면을 기준으로 사용법을 안내해 드리겠습니다.

### STEP 1: 주문서 업로드 메뉴 진입

```
RMS 메뉴에서:
판매 > 주문서 업로드 클릭

또는 판매주문 목록에서 "주문서 업로드" 버튼 클릭
```

### STEP 2: 템플릿 선택 + 파일 업로드

```
┌─────────────────────────────────────────────────────────────┐
│  📁 주문서 업로드                                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  1. 템플릿 선택                                              │
│     [A마트 주문서 v2        ▼]  ← 거래처별 템플릿 선택       │
│                                                             │
│  2. 파일 업로드                                              │
│     [파일 선택] 또는 드래그앤드롭                            │
│                                                             │
│  ⚠️ 주의: 템플릿과 엑셀 양식이 맞지 않으면 오류가 발생합니다 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

**팁**: 템플릿이 없다면 먼저 생성해야 합니다. 관리자에게 요청하거나 직접 생성하세요.

### STEP 3: 정규화 (데이터 확인)

파일을 업로드하면 시스템이 엑셀을 파싱하여 결과를 보여줍니다.

```
┌─────────────────────────────────────────────────────────────┐
│  📋 정규화 결과                                              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ✅ 성공: 48건                                               │
│  ❌ 오류: 2건  ← 수정해야 다음 단계로 진행 가능              │
│                                                             │
│  [오류 목록]                                                 │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ 행 15: 상품코드 "XXX-999"를 찾을 수 없습니다            ││
│  │ 행 23: 수량이 숫자 형식이 아닙니다 ("백개")             ││
│  └─────────────────────────────────────────────────────────┘│
│                                                             │
│  [수정하기] [무시하고 진행]                                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

**오류 해결 방법**:
- 상품코드를 찾을 수 없음 → 주문상품에 등록되지 않은 코드입니다. 등록하거나 코드를 수정하세요.
- 수량 오류 → 엑셀에서 숫자 형식(예: “100”)으로 수정 후 다시 업로드하세요.

### STEP 4: SKU 매핑

정규화가 완료되면 주문상품을 SKU로 변환해야 합니다.

```
┌─────────────────────────────────────────────────────────────┐
│  🔄 SKU 매핑                                                 │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  [라인 1]                                                    │
│  원본: 프리미엄 후라이드 × 100개                             │
│  매핑: [SKU 선택 ▼] ← 여기서 CHK-001 선택                   │
│                                                             │
│  [라인 2]                                                    │
│  원본: 치킨 파티 세트 × 10개                                 │
│  매핑: ← 세트는 자동으로 분해됩니다                          │
│    ├─ CHK-001 × 20개 (후라이드 2개씩)                       │
│    ├─ CHK-002 × 10개 (양념 1개씩)                           │
│    └─ COLA-001 × 20개 (콜라 2개씩)                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

**매핑을 쉽게 하는 방법**:

주문상품에 SKU가 미리 연결되어 있으면 자동으로 매핑됩니다.
연결되어 있지 않다면 직접 선택해야 합니다.

```
[주문상품 전체 적용] 버튼을 누르면:
┌─────────────────────────────────────────────────────────────┐
│  주문상품 목록              │  상세                          │
│  ─────────────────────────│─────────────────────────────── │
│  > 테스트                  │  테스트                        │
│    프리미엄 후라이드       │  코드: OPG-3FA68A              │
│    양념치킨                │  SKU 2개 연결됨                │
│    ...                     │                                │
│                            │  [전체 SKU 적용] ← 클릭하면    │
│                            │  연결된 SKU가 자동 입력됩니다  │
└─────────────────────────────────────────────────────────────┘
```

이 기능을 활용하면 SKU를 일일이 검색하지 않아도 됩니다.

### STEP 5: 최종 확인 + 확정

```
┌─────────────────────────────────────────────────────────────┐
│  ✅ 최종 확인                                                │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  거래처: A마트                                               │
│  공급계약: 2024년 A마트 공급계약                             │
│  주문 품목: 50건                                             │
│  총 금액: 15,000,000원                                       │
│                                                             │
│  ☑️ 출고주문 자동 생성 ← 체크하면 출고요청까지 자동 진행     │
│  ☑️ 바로 출고요청                                            │
│                                                             │
│  [취소] [확정]                                               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

**확정 버튼 클릭 시**:
- 판매주문이 생성됩니다 (상태: CONFIRMED)
- 출고주문 자동 생성을 체크했다면 출고주문도 함께 생성됩니다

### 자주 발생하는 실수와 해결 방법

| 실수 | 증상 | 해결 방법 |
| --- | --- | --- |
| 템플릿 잘못 선택 | 데이터가 잘못 파싱됨 | 올바른 템플릿 선택 후 재업로드 |
| 엑셀 양식 변경 | 오류 다수 발생 | 템플릿 수정 또는 엑셀 양식 원복 |
| 상품코드 오타 | “찾을 수 없음” 오류 | 주문상품에 등록된 코드로 수정 |
| SKU 매핑 누락 | 출고 불가 | 매핑 단계에서 SKU 선택 필요 |
| 공급계약 만료 | 가격 미적용 | 계약 갱신 또는 신규 계약 체결 |

### 요약: 업로드 5단계

```
1. 템플릿 선택 (거래처별로 상이)
2. 엑셀 파일 업로드
3. 오류 확인 및 수정 (주로 상품코드 문제)
4. SKU 매핑 (주문상품 전체 적용 기능 활용 권장)
5. 확정 버튼 클릭

완료 후 판매주문 목록에서 확인할 수 있습니다.
```

---

## 8. 용어 사전

### 핵심 용어

| 용어 | 영문 | 설명 |
| --- | --- | --- |
| **주문상품** | Order Product | 메뉴판에 있는 상품 정보 |
| **공급계약** | Supply Contract | 거래처와 맺은 가격 계약 |
| **판매주문** | Sales Order | 실제로 들어온 주문 |
| **출고주문** | Fulfillment Order | 창고에 보내는 출고 지시 |
| **릴리즈** | Release | 실제 배송 건 하나 |

### 가격 관련

| 용어 | 설명 |
| --- | --- |
| **MSRP** | 권장소비자가 (정가) |
| **MAP** | 최소광고가 (이 가격 이하로 광고 불가) |
| **거래가격** | 실제 기준가 |
| **계약가/딜가** | 거래처와 협의한 가격 |
| **공급률** | 계약가 ÷ 거래가격 × 100 |

### 매출유형 (세무 처리용)

| 유형 | 설명 | 사용 시점 |
| --- | --- | --- |
| **과세** | 부가세 10% 부과 | 일반 국내 거래 |
| **면세** | 부가세 없음 | 면세 상품 거래 |
| **영세** | 부가세 0% (수출) | 수출 거래 |
| **직수출** | 직접 수출 | 직접 해외 배송 시 |
| **비대상** | 매출 아님 | 무상출고 (샘플 등) |

※ 판매출고는 과세/면세/영세/직수출 중 하나
※ 무상출고는 항상 “비대상” (대금을 받지 않으므로)

### 상태 관련

| 상태 | 설명 |
| --- | --- |
| **DRAFT** | 작성 중 |
| **REVIEW** | 승인 대기 |
| **APPROVED** | 승인됨 |
| **CONFIRMED** | 확정됨 |
| **REQUESTED** | 요청됨 |
| **PROCESSING** | 처리 중 |
| **FULFILLING** | 출고 중 |
| **RELEASED** | 출고 완료 |
| **COMPLETED** | 완료 |
| **CANCELLED** | 취소됨 |
| **INVALID** | 무효 |

### 시스템 용어

| 용어 | 설명 |
| --- | --- |
| **SKU** | 창고에서 관리하는 물건 단위 (Stock Keeping Unit) |
| **WMS** | 창고 관리 시스템 (Warehouse Management System) |
| **OMS** | 주문 관리 시스템 (Order Management System) - 플레이오토 등 |
| **매핑** | 주문상품 → SKU 변환 |

### B2B 거래 유형 (참고)

RMS에서 다루는 B2B 거래 유형들:
- **홈쇼핑**: TV홈쇼핑 납품
- **면세점**: 면세점 납품
- **대형마트**: 이마트, 롯데마트 등
- **편의점**: CU, GS25 등
- **온라인몰**: 쿠팡 B2B, 네이버 B2B 등

※ 일반 소비자 주문(B2C)은 플레이오토 같은 OMS에서 처리
※ RMS는 B2B만 담당

---

## 9. FAQ

### 자주 묻는 질문

**Q: 주문상품과 SKU가 왜 따로 있나요?**

A: SKU = 창고용 (물리적 물건), 주문상품 = 거래처용 (판매 단위)입니다.

치킨으로 예를 들면:
- SKU: `CHK-001` (창고에 있는 치킨 재고)
- 주문상품: `프리미엄 후라이드` (거래처가 주문하는 이름)

---

**Q: 공급계약 없이 판매할 수 있나요?**

A: 네, 가능합니다. 다만 가격을 직접 입력해야 하고 관리가 어려우므로 권장하지 않습니다.

---

**Q: 출고주문 없이 판매주문만 있을 수 있나요?**

A: 네, 주문을 받았지만 아직 출고하지 않은 상태입니다.

---

**Q: 하나의 판매주문에서 출고주문이 여러 개 나올 수 있나요?**

A: 네, 분할 배송할 때 그렇습니다.

```
판매주문: 치킨 1,000마리
출고주문 1: 500마리 (오늘)
출고주문 2: 500마리 (내일)
```

---

**Q: 무상출고는 왜 판매주문이 없나요?**

A: 대금을 받지 않기 때문입니다. 매출이 아니므로 판매주문이 필요 없습니다.

---

**Q: DRAFT와 CONFIRMED의 차이는 무엇인가요?**

A: DRAFT = 작성 중 (수정/삭제 자유), CONFIRMED = 확정 (실제 주문으로 처리)

---

**Q: CANCELLED와 INVALID의 차이는 무엇인가요?**

A: CANCELLED = 정상 취소 (고객 요청 등), INVALID = 계약 만료 같은 시스템적 무효

---

**Q: 공급률 기준은 어디서 변경하나요?**

A: 시스템 설정에서 변경합니다. 기본값은 80%입니다.

---

**Q: 본인이 만든 계약을 본인이 승인할 수 있나요?**

A: 아니요, 셀프 승인은 불가능합니다. 다른 결재자가 승인해야 합니다.

---

**Q: 승인이 반려되면 어떻게 되나요?**

A: DRAFT 상태로 돌아갑니다. 수정 후 다시 승인 요청하면 됩니다.

---

**Q: 템플릿 없이 엑셀 업로드가 가능한가요?**

A: 아니요, 시스템이 엑셀을 해석하려면 템플릿이 반드시 필요합니다.

---

**Q: v1 용어와 v2 용어가 헷갈립니다.**

A: 정리해드립니다:

| v1 용어 | v2 용어 | 비고 |
| --- | --- | --- |
| 견적 | 공급계약 | 가격 협상 결과물 |
| 발송 | 무상출고 | 무상 제공 출고 |
| 출고요청 | 출고주문 | 배송 지시 |
| - | 릴리즈 | v2에서 신규 (실제 배송 건) |
| - | 주문상품 | v2에서 신규 (메뉴판) |
| - | 판매주문 | v2에서 신규 (실제 주문) |

v2에서 더 세분화되었다고 이해하시면 됩니다.

---

**Q: 세금계산서는 어떻게 처리하나요?**

A: 출고주문에서 설정합니다.
- 세금계산서 필요/불필요 선택
- 필요 시 세금계산서 발행일 입력
- 직수출의 경우 선적일 입력

재무팀(FN)이 확인 후 세금계산서를 발행합니다.

---

## 부록: 다이어그램 모음

### 전체 흐름 한 장 요약

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         RMS 전체 흐름                                    │
└─────────────────────────────────────────────────────────────────────────┘

[준비 단계]
┌──────────┐         ┌──────────┐
│ 주문상품  │────────▶│ 공급계약  │
│ (메뉴판)  │  가격정보  │ (계약서)  │
└──────────┘         └────┬─────┘
                          │
                          │ 승인 필요시
                          ▼
                    ┌──────────┐
                    │   승인    │
                    └────┬─────┘
                          │
[거래 단계]              │
                          ▼
                    ┌──────────┐
                    │ 판매주문  │◀─── 외부 주문서 업로드
                    │ (주문서)  │     (엑셀 파싱)
                    └────┬─────┘
                          │
                          │ 매핑 (SKU 변환)
                          ▼
[출고 단계]         ┌──────────┐
                    │ 출고주문  │◀─── 무상출고
                    │ (배송지시)│     (판매주문 없이)
                    └────┬─────┘
                          │
                          │ 릴리즈 생성
                          ▼
                    ┌──────────┐
                    │ WMS 연동  │
                    │ (실제배송)│
                    └────┬─────┘
                          │
                          ▼
                       완료
```

### 상태 변화 한 장 요약

```
┌─────────────────────────────────────────────────────────────────────────┐
│                        상태 변화 치트시트                                │
└─────────────────────────────────────────────────────────────────────────┘

공급계약:    DRAFT → REVIEW → APPROVED → INVALID
                       ↓
                   (반려되면)
                     DRAFT

판매주문:    DRAFT → CONFIRMED → FULFILLING → COMPLETED
                        ↓
                    (취소되면)
                    CANCELLED

출고주문:    DRAFT → REQUESTED → PROCESSING → RELEASED
                        ↓
                    (취소되면)
                    CANCELLED
```

---

## 마무리

이 문서의 핵심을 다시 정리합니다:

1. **주문상품 → 공급계약 → 판매주문 → 출고주문** 순서로 흐름이 진행됩니다
2. **공급계약** = 거래처별 가격 협상 결과물
3. **판매주문** = 실제 주문
4. **출고주문** = 배송 지시
5. **릴리즈** = 실제 배송 건
6. **승인** = 공급계약(공급률 낮을 때) + 본사 샘플에만 필요

추가 질문이 있으시면 언제든 문의해 주세요.

---